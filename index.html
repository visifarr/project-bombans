<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VisoSled - Послания</title>
    <style>
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --accent: #ff2d75;
            --light: #f8f9fa;
            --dark: #212529;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, #12c2e9, #c471ed, #f64f59);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }
        
        .warning {
            font-size: 0.8rem;
            background: rgba(255, 45, 117, 0.2);
            padding: 10px 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
            border: 1px solid var(--accent);
        }
        
        .counter {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 25px;
        }
        
        .counter-item {
            text-align: center;
            flex: 1;
        }
        
        .counter-value {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(to right, #12c2e9, #c471ed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .counter-label {
            font-size: 0.9rem;
            opacity: 0.7;
        }
        
        .message-container {
            position: relative;
            margin: 30px 0;
            min-height: 200px;
        }
        
        .message-box {
            background: rgba(0, 0, 0, 0.4);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.4rem;
            line-height: 1.6;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        button {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        button:disabled {
            background: linear-gradient(to right, #555, #777);
            cursor: not-allowed;
            transform: none;
        }
        
        .history {
            margin-top: 40px;
        }
        
        .history h2 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            text-align: center;
            color: #c471ed;
        }
        
        .history-list {
            max-height: 200px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 15px;
        }
        
        .history-item {
            padding: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        footer {
            margin-top: 40px;
            text-align: center;
            font-size: 0.8rem;
            opacity: 0.6;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            
            .container {
                padding: 20px;
            }
            
            .message-box {
                font-size: 1.2rem;
                padding: 20px;
            }
            
            .controls {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>VisoSled</h1>
            <div class="tagline">Твои послания для особых случаев</div>
            <div class="warning">
                Наличие матов в некоторых текстах сделано исключительно в шутку ^°^good luck^°^
            </div>
        </header>
        
        <div class="counter">
            <div class="counter-item">
                <div class="counter-value" id="message-count">0</div>
                <div class="counter-label">Доступно посланий</div>
            </div>
            <div class="counter-item">
                <div class="counter-value" id="next-recharge">30:00</div>
                <div class="counter-label">До следующего</div>
            </div>
            <div class="counter-item">
                <div class="counter-value" id="total-count">0</div>
                <div class="counter-label">Всего получено</div>
            </div>
        </div>
        
        <div class="message-container">
            <div class="message-box" id="message-box">
                Нажми "Получить послание", чтобы увидеть первое сообщение!
            </div>
        </div>
        
        <div class="controls">
            <button id="get-message">Получить послание</button>
            <button id="share-message">Поделиться</button>
        </div>
        
        <div class="history">
            <h2>История посланий</h2>
            <div class="history-list" id="history-list"></div>
        </div>
        
        <footer>
            VisoSled &copy; 2025 | Послания обновляются каждые 30 минут (максимум 4)
        </footer>
    </div>

    <script>
        // База данных посланий (100 сообщений)
        const messages = [
            "Привет! Сегодня твой день, чтобы сиять!",
            "Жизнь слишком коротка, чтобы тратить её на ерунду.",
            "Ты выглядишь просто офигенно сегодня!",
            "Иногда нужно просто послать всё к чёрту и двигаться дальше.",
            "Улыбнись, завтра будет ещё лучше!",
            "Ты способен на большее, чем думаешь.",
            "Не беспокойся о мелочах - всё будет в порядке.",
            "Сегодня идеальный день для новых начинаний.",
            "Твоя улыбка меняет мир вокруг тебя.",
            "Иногда нужно быть немножко хулиганом!",
            "Время от времени всем нужно послать кого-то подальше.",
            "Ты заслуживаешь всего самого лучшего!",
            "Не позволяй мудакам испортить твой день.",
            "Иногда最好的 терапия - это громко выругаться.",
            "Ты сильнее, чем кажешься.",
            "Сегодня твой день - хватай его за хвост!",
            "Не бойся быть тем, кто ты есть.",
            "Иногда нужно просто сказать: 'Пошло всё на хуй!' и улыбнуться.",
            "Твоё счастье зависит только от тебя.",
            "Завтра будет новый день и новые возможности.",
            "Ты создан для великих дел!",
            "Не принимай всё слишком близко к сердцу.",
            "Иногда нужно просто отпустить ситуацию.",
            "Ты выглядишь просто блестяще сегодня!",
            "Помни: то, что не убивает, делает нас сильнее.",
            "Сегодня perfect день чтобы изменить свою жизнь.",
            "Не позволяй никому говорить, что ты не можешь чего-то сделать.",
            "Иногда нужно просто послать всех в жопу и заняться своим делом.",
            "Ты заслуживаешь быть счастливым.",
            "Время лечит все раны - просто дай себе время.",
            "Твоя уверенность - твой главный актив.",
            "Не бойся мечтать о большем.",
            "Иногда最好的защита - это хорошее наступление.",
            "Ты можешь достичь всего, что задумал.",
            "Сегодня день, когда всё начнёт меняться к лучшему.",
            "Не сравнивай себя с другими - ты уникален.",
            "Иногда нужно просто выругаться и двигаться дальше.",
            "Твоё время придет - просто будь готов.",
            "У тебя есть всё необходимое для успеха.",
            "Завтра будет лучше, чем сегодня.",
            "Ты заслуживаешь любви и уважения.",
            "Не бойся делать ошибки - они учат нас.",
            "Иногда нужно просто сказать 'похуй' и расслабиться.",
            "Твоё отношение определяет твою реальность.",
            "Сегодня perfect день для смелых решений.",
            "Не позволя страху управлять твоей жизнью.",
            "Иногда最好的ответ - это послать на хуй.",
            "Ты способен изменить свою жизнь к лучшему.",
            "Всё происходит вовремя - просто наберись терпения.",
            "Ты достоин всего самого прекрасного!",
            "Не трать время на тех, кто тебя не ценит.",
            "Иногда нужно просто выдохнуть и отпустить.",
            "Твоя жизнь - это результат твоих выборов.",
            "Сегодня день, когда ты можешь всё изменить.",
            "Не бойся быть смелым и идти против течения.",
            "Иногда最好的решение - это сказать 'иди на хуй' и двигаться дальше.",
            "Ты имеешь значение и важен для этого мира.",
            "Завтра принесёт новые возможности.",
            "Ты силён enough, чтобы справиться с любыми трудностями.",
            "Не позволяй никому diminish твою ценность.",
            "Иногда нужно просто послать всё к чёрту и наслаждаться жизнью.",
            "Ты создаёшь свою собственную реальность.",
            "Сегодня perfect день для новых начинаний.",
            "Не бойся просить о помощи, когда она нужна.",
            "Иногда最好的medicine - это громко выругаться.",
            "Ты заслуживаешь того, чтобы к тебе относились с уважением.",
            "Всё наладится - просто верь в себя.",
            "Ты уникален и особенный по-своему.",
            "Не принимай всё слишком серьёзно.",
            "Иногда нужно просто сказать 'пошло на хуй' и улыбнуться.",
            "Твоё счастье - в твоих руках.",
            "Завтра будет ещё лучше, чем сегодня.",
            "Ты способен преодолеть любые препятствия.",
            "Не позволяй негативу влиять на твою жизнь.",
            "Иногда最好的defense - это хорошее 'пошёл на хуй'.",
            "Ты достоин любви и счастья.",
            "Время работает на тебя - просто будь терпелив.",
            "Ты имеешь силу изменить свою жизнь.",
            "Сегодня день, когда ты можешь всё.",
            "Не бойся быть собой - ты прекрасен.",
            "Иногда нужно просто выругаться и продолжить путь.",
            "Ты заслуживаешь успеха и процветания.",
            "Всё будет хорошо - просто верь.",
            "Ты сильнее, чем думаешь.",
            "Не позволяй другим определять твою ценность.",
            "Иногда最好的therapy - это громко послать всех.",
            "Ты создан для великих свершений.",
            "Сегодня perfect день для изменений.",
            "Не бойся рисковать - это ведёт к росту.",
            "Иногда最好的response - это 'иди в жопу'.",
            "Ты заслуживаешь быть счастливым каждый день.",
            "Завтра принесёт новые надежды.",
            "Ты можешь достичь всего, чего пожелаешь.",
            "Не трать энергию на негативных людей.",
            "Иногда нужно просто послать всё к чёрту и быть счастливым."
        ];

        // Инициализация приложения
        document.addEventListener('DOMContentLoaded', function() {
            const messageBox = document.getElementById('message-box');
            const getMessageBtn = document.getElementById('get-message');
            const shareMessageBtn = document.getElementById('share-message');
            const messageCountEl = document.getElementById('message-count');
            const nextRechargeEl = document.getElementById('next-recharge');
            const totalCountEl = document.getElementById('total-count');
            const historyList = document.getElementById('history-list');
            
            // Переменные состояния
            let availableMessages = 0;
            let totalMessages = 0;
            let lastUpdateTime = Date.now();
            let rechargeInterval = 30 * 60 * 1000; // 30 минут в миллисекундах
            let maxMessages = 4;
            let nextRechargeTime = rechargeInterval;
            let rechargeTimer;
            
            // Инициализация из localStorage
            loadFromStorage();
            updateUI();
            startRechargeTimer();
            
            // Обработчики событий
            getMessageBtn.addEventListener('click', getRandomMessage);
            shareMessageBtn.addEventListener('click', shareMessage);
            
            // Функции
            function loadFromStorage() {
                const savedData = localStorage.getItem('visoSledData');
                
                if (savedData) {
                    const data = JSON.parse(savedData);
                    availableMessages = data.availableMessages || 0;
                    totalMessages = data.totalMessages || 0;
                    lastUpdateTime = data.lastUpdateTime || Date.now();
                    
                    // Восстановление истории
                    if (data.history) {
                        data.history.forEach(msg => {
                            addToHistory(msg);
                        });
                    }
                    
                    // Пересчет доступных сообщений на основе прошедшего времени
                    const currentTime = Date.now();
                    const timePassed = currentTime - lastUpdateTime;
                    const messagesToAdd = Math.min(
                        Math.floor(timePassed / rechargeInterval),
                        maxMessages - availableMessages
                    );
                    
                    if (messagesToAdd > 0) {
                        availableMessages += messagesToAdd;
                        lastUpdateTime = currentTime - (timePassed % rechargeInterval);
                        saveToStorage();
                    }
                    
                    nextRechargeTime = rechargeInterval - (timePassed % rechargeInterval);
                } else {
                    // Первый запуск
                    availableMessages = 1;
                    lastUpdateTime = Date.now();
                    saveToStorage();
                }
            }
            
            function saveToStorage() {
                const historyItems = Array.from(historyList.querySelectorAll('.history-item')).map(item => item.textContent);
                
                const data = {
                    availableMessages: availableMessages,
                    totalMessages: totalMessages,
                    lastUpdateTime: lastUpdateTime,
                    history: historyItems.slice(-10) // Сохраняем последние 10 сообщений
                };
                
                localStorage.setItem('visoSledData', JSON.stringify(data));
            }
            
            function updateUI() {
                messageCountEl.textContent = availableMessages;
                totalCountEl.textContent = totalMessages;
                
                getMessageBtn.disabled = availableMessages <= 0;
                
                if (availableMessages <= 0) {
                    getMessageBtn.textContent = 'Жди перезарядки';
                } else {
                    getMessageBtn.textContent = 'Получить послание';
                }
            }
            
            function startRechargeTimer() {
                clearInterval(rechargeTimer);
                
                rechargeTimer = setInterval(() => {
                    nextRechargeTime -= 1000;
                    
                    if (nextRechargeTime <= 0) {
                        if (availableMessages < maxMessages) {
                            availableMessages++;
                            lastUpdateTime = Date.now();
                            saveToStorage();
                            updateUI();
                        }
                        nextRechargeTime = rechargeInterval;
                    }
                    
                    const minutes = Math.floor(nextRechargeTime / 60000);
                    const seconds = Math.floor((nextRechargeTime % 60000) / 1000);
                    nextRechargeEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }, 1000);
            }
            
            function getRandomMessage() {
                if (availableMessages <= 0) return;
                
                const randomIndex = Math.floor(Math.random() * messages.length);
                const message = messages[randomIndex];
                
                messageBox.textContent = message;
                availableMessages--;
                totalMessages++;
                
                addToHistory(message);
                saveToStorage();
                updateUI();
                
                // Анимация появления сообщения
                messageBox.style.opacity = '0';
                messageBox.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    messageBox.style.transition = 'all 0.5s ease';
                    messageBox.style.opacity = '1';
                    messageBox.style.transform = 'translateY(0)';
                }, 10);
            }
            
            function addToHistory(message) {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.textContent = message;
                
                historyList.prepend(historyItem);
                
                // Ограничиваем историю 10 последними сообщениями
                if (historyList.children.length > 10) {
                    historyList.removeChild(historyList.lastChild);
                }
            }
            
            function shareMessage() {
                const message = messageBox.textContent;
                
                if (navigator.share) {
                    navigator.share({
                        title: 'VisoSled Послание',
                        text: message,
                        url: window.location.href
                    })
                    .catch(() => {
                        copyToClipboard(message);
                    });
                } else {
                    copyToClipboard(message);
                }
            }
                     
            function copyToClipboard(text) {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                
                alert('Послание скопировано в буфер обмена!');
            }
        });
    </script>
</body>
</html>
